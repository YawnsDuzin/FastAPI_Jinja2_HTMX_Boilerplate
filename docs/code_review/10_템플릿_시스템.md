# 10. í…œí”Œë¦¿ ì‹œìŠ¤í…œ

## 10.1 ê°œìš”

Jinja2 í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)ì„ êµ¬í˜„í•©ë‹ˆë‹¤. TailwindCSS, HTMX, Alpine.jsì™€ ê²°í•©í•˜ì—¬ ë™ì ì¸ ì›¹ í˜ì´ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### ê´€ë ¨ íŒŒì¼

- `app/core/templates.py` - Jinja2 ì„¤ì • ë° ì»¤ìŠ¤í…€ í•„í„°
- `templates/base.html` - ê¸°ë³¸ ë ˆì´ì•„ì›ƒ
- `templates/components/` - ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
- `templates/pages/` - í˜ì´ì§€ í…œí”Œë¦¿
- `templates/partials/` - HTMX íŒŒì…œ í…œí”Œë¦¿

### í…œí”Œë¦¿ êµ¬ì¡°

```
templates/
â”œâ”€â”€ base.html              # ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (ëª¨ë“  í˜ì´ì§€ê°€ ìƒì†)
â”‚
â”œâ”€â”€ components/            # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ navbar.html       # ë„¤ë¹„ê²Œì´ì…˜ ë°”
â”‚   â””â”€â”€ footer.html       # í‘¸í„°
â”‚
â”œâ”€â”€ pages/                 # ì „ì²´ í˜ì´ì§€
â”‚   â”œâ”€â”€ home.html         # í™ˆí˜ì´ì§€
â”‚   â”œâ”€â”€ login.html        # ë¡œê·¸ì¸
â”‚   â”œâ”€â”€ register.html     # íšŒì›ê°€ì…
â”‚   â”œâ”€â”€ dashboard.html    # ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ items.html        # ì•„ì´í…œ ëª©ë¡
â”‚   â””â”€â”€ 404.html          # 404 ì—ëŸ¬
â”‚
â””â”€â”€ partials/              # HTMX íŒŒì…œ (HTML ì¡°ê°)
    â”œâ”€â”€ items/
    â”‚   â”œâ”€â”€ list.html     # ì•„ì´í…œ ëª©ë¡
    â”‚   â”œâ”€â”€ item.html     # ê°œë³„ ì•„ì´í…œ
    â”‚   â””â”€â”€ form.html     # ì•„ì´í…œ í¼
    â””â”€â”€ auth/
        â””â”€â”€ ...
```

---

## 10.2 Jinja2 ì„¤ì • (app/core/templates.py)

### 10.2.1 í…œí”Œë¦¿ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

```python
from fastapi.templating import Jinja2Templates
from app.config import settings

# Jinja2 í…œí”Œë¦¿ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
templates = Jinja2Templates(directory="templates")
```

### 10.2.2 ì»¤ìŠ¤í…€ í•„í„° ì •ì˜

```python
def format_datetime(value: datetime, format: str = "%Y-%m-%d %H:%M") -> str:
    """ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ… í•„í„°"""
    if value is None:
        return ""
    return value.strftime(format)


def format_date(value: datetime, format: str = "%Y-%m-%d") -> str:
    """ë‚ ì§œ í¬ë§·íŒ… í•„í„°"""
    if value is None:
        return ""
    return value.strftime(format)


def truncate(value: str, length: int = 100, suffix: str = "...") -> str:
    """ë¬¸ìì—´ ìë¥´ê¸° í•„í„°"""
    if value is None:
        return ""
    if len(value) <= length:
        return value
    return value[:length].rsplit(" ", 1)[0] + suffix


def currency(value: float, symbol: str = "â‚©") -> str:
    """í†µí™” í¬ë§·íŒ… í•„í„°"""
    if value is None:
        return f"{symbol}0"
    return f"{symbol}{value:,.0f}"


def nl2br(value: str) -> str:
    """ì¤„ë°”ê¿ˆì„ <br> íƒœê·¸ë¡œ ë³€í™˜"""
    if value is None:
        return ""
    return value.replace("\n", "<br>")
```

### 10.2.3 í•„í„° ë“±ë¡

```python
# ì»¤ìŠ¤í…€ í•„í„° ë“±ë¡
templates.env.filters["datetime"] = format_datetime
templates.env.filters["date"] = format_date
templates.env.filters["truncate"] = truncate
templates.env.filters["currency"] = currency
templates.env.filters["nl2br"] = nl2br
```

### 10.2.4 ì „ì—­ ë³€ìˆ˜ ì„¤ì •

```python
# ëª¨ë“  í…œí”Œë¦¿ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì „ì—­ ë³€ìˆ˜
templates.env.globals["app_name"] = settings.app_name  # ì•± ì´ë¦„
templates.env.globals["debug"] = settings.debug        # ë””ë²„ê·¸ ëª¨ë“œ
templates.env.globals["now"] = datetime.now            # í˜„ì¬ ì‹œê°„ í•¨ìˆ˜
```

### 10.2.5 í•„í„° ì‚¬ìš© ì˜ˆì‹œ

```html
<!-- ë‚ ì§œ í¬ë§·íŒ… -->
<span>{{ item.created_at | datetime }}</span>
<!-- ì¶œë ¥: 2024-01-15 12:30 -->

<span>{{ item.created_at | date }}</span>
<!-- ì¶œë ¥: 2024-01-15 -->

<!-- ë¬¸ìì—´ ìë¥´ê¸° -->
<p>{{ item.description | truncate(50) }}</p>
<!-- 50ì ì´ˆê³¼ì‹œ ... ì¶”ê°€ -->

<!-- í†µí™” í¬ë§·íŒ… -->
<span>{{ item.price | currency }}</span>
<!-- ì¶œë ¥: â‚©10,000 -->

<!-- ì¤„ë°”ê¿ˆ ë³€í™˜ -->
<p>{{ item.content | nl2br | safe }}</p>
<!-- \nì„ <br>ë¡œ ë³€í™˜, safeë¡œ HTML í—ˆìš© -->
```

---

## 10.3 ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (templates/base.html)

### 10.3.1 HTML êµ¬ì¡°

```html
<!DOCTYPE html>
<html lang="ko"
      x-data="{ darkMode: localStorage.getItem('darkMode') === 'true' }"
      :class="{ 'dark': darkMode }">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- í˜ì´ì§€ ì œëª© (ë¸”ë¡ìœ¼ë¡œ ì¬ì •ì˜ ê°€ëŠ¥) -->
    <title>{% block title %}{{ title | default(app_name) }}{% endblock %} | {{ app_name }}</title>

    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@2.0.0"></script>

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- ì»¤ìŠ¤í…€ CSS -->
    <link rel="stylesheet" href="/static/css/custom.css">

    <!-- í˜ì´ì§€ë³„ ì¶”ê°€ head -->
    {% block extra_head %}{% endblock %}
</head>
```

### 10.3.2 Body êµ¬ì¡°

```html
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen"
      x-data
      hx-boost="true">

    <!-- í† ìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆ -->
    <div id="toast-container" x-data="toastHandler()" ...></div>

    <!-- ëª¨ë‹¬ ì»¨í…Œì´ë„ˆ -->
    <div id="modal-container" x-data="{ open: false }" ...></div>

    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    {% include "components/navbar.html" %}

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="{% block main_class %}container mx-auto px-4 py-8{% endblock %}">
        {% block content %}{% endblock %}
    </main>

    <!-- í‘¸í„° -->
    {% include "components/footer.html" %}

    <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
    <div id="loading-indicator" class="htmx-indicator ..."></div>

    <!-- ì»¤ìŠ¤í…€ JavaScript -->
    <script src="/static/js/app.js"></script>

    <!-- í˜ì´ì§€ë³„ ì¶”ê°€ ìŠ¤í¬ë¦½íŠ¸ -->
    {% block extra_scripts %}{% endblock %}
</body>
</html>
```

### 10.3.3 Jinja2 í…œí”Œë¦¿ ë¸”ë¡

| ë¸”ë¡ | ìš©ë„ | ê¸°ë³¸ê°’ |
|------|------|--------|
| `title` | í˜ì´ì§€ ì œëª© | `{{ title \| default(app_name) }}` |
| `extra_head` | ì¶”ê°€ CSS/ë©”íƒ€ | ì—†ìŒ |
| `main_class` | main íƒœê·¸ í´ë˜ìŠ¤ | `container mx-auto px-4 py-8` |
| `content` | í˜ì´ì§€ ë³¸ë¬¸ | ì—†ìŒ (í•„ìˆ˜ ì •ì˜) |
| `extra_scripts` | ì¶”ê°€ JavaScript | ì—†ìŒ |

---

## 10.4 Alpine.js í†µí•©

### 10.4.1 ë‹¤í¬ëª¨ë“œ

```html
<!-- HTML íƒœê·¸ì— ë‹¤í¬ëª¨ë“œ ìƒíƒœ ê´€ë¦¬ -->
<html x-data="{ darkMode: localStorage.getItem('darkMode') === 'true' }"
      :class="{ 'dark': darkMode }">
```

```html
<!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
<button @click="darkMode = !darkMode; localStorage.setItem('darkMode', darkMode)">
    <span x-show="!darkMode">ğŸŒ™</span>
    <span x-show="darkMode">â˜€ï¸</span>
</button>
```

### 10.4.2 í† ìŠ¤íŠ¸ í•¸ë“¤ëŸ¬

```html
<div id="toast-container"
     class="fixed top-4 right-4 z-50 flex flex-col gap-2"
     x-data="toastHandler()"
     @showToast.window="show($event.detail)">
    <!-- í† ìŠ¤íŠ¸ ëª©ë¡ ë Œë”ë§ -->
    <template x-for="toast in toasts" :key="toast.id">
        <div class="toast" :class="toast.type">
            <span x-text="toast.message"></span>
            <button @click="remove(toast.id)">&times;</button>
        </div>
    </template>
</div>
```

### 10.4.3 ëª¨ë‹¬ ì»¨í…Œì´ë„ˆ

```html
<div id="modal-container"
     x-data="{ open: false }"
     @openModal.window="open = true"
     @closeModal.window="open = false"
     @keydown.escape.window="open = false">

    <!-- ë°°ê²½ ì˜¤ë²„ë ˆì´ -->
    <div x-show="open"
         x-cloak
         x-transition:enter="transition ease-out duration-200"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         class="fixed inset-0 bg-black/50 z-40"
         @click="open = false">
    </div>

    <!-- ëª¨ë‹¬ ì½˜í…ì¸  (HTMXë¡œ êµì²´) -->
    <div id="modal-content"
         x-show="open"
         x-cloak
         x-transition
         class="fixed inset-0 z-50 flex items-center justify-center">
        <!-- HTMX ì‘ë‹µì´ ì—¬ê¸°ì— ë¡œë“œë¨ -->
    </div>
</div>
```

---

## 10.5 HTMX í†µí•©

### 10.5.1 hx-boost

```html
<!-- bodyì— hx-boost ì ìš© -->
<body hx-boost="true">
```

**ë™ì‘ ë°©ì‹:**
- ì¼ë°˜ ë§í¬ í´ë¦­ â†’ AJAX ìš”ì²­ìœ¼ë¡œ ë³€í™˜
- í˜ì´ì§€ ì „ì²´ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ì½˜í…ì¸ ë§Œ êµì²´
- SPAì²˜ëŸ¼ ë¹ ë¥¸ í˜ì´ì§€ ì „í™˜

### 10.5.2 ë¡œë”© ì¸ë””ì¼€ì´í„°

```html
<!-- ìƒë‹¨ í”„ë¡œê·¸ë ˆìŠ¤ ë°” -->
<div id="loading-indicator"
     class="htmx-indicator fixed top-0 left-0 right-0 h-1 bg-primary-500 z-50">
    <div class="h-full bg-primary-300 animate-pulse"></div>
</div>

<!-- ì¤‘ì•™ ìŠ¤í”¼ë„ˆ -->
<div id="global-spinner"
     class="htmx-indicator fixed inset-0 flex items-center justify-center bg-black/20 z-50">
    <div class="bg-white rounded-lg p-4 shadow-xl flex items-center gap-3">
        <svg class="animate-spin h-6 w-6">...</svg>
        <span>ë¡œë”© ì¤‘...</span>
    </div>
</div>
```

### 10.5.3 HTMX ì†ì„± ì„¤ì •

```html
<script>
    // HTMX ì „ì—­ ì„¤ì •
    htmx.config.defaultSwapStyle = 'innerHTML';  // ê¸°ë³¸ ìŠ¤ì™‘ ë°©ì‹
    htmx.config.defaultSettleDelay = 20;         // ì„¸í‹€ë§ ë”œë ˆì´
    htmx.config.refreshOnHistoryMiss = true;     // íˆìŠ¤í† ë¦¬ ë¯¸ìŠ¤ ì‹œ ìƒˆë¡œê³ ì¹¨
</script>
```

---

## 10.6 TailwindCSS í†µí•©

### 10.6.1 CDN ì„¤ì •

```html
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        // ë‹¤í¬ëª¨ë“œ: í´ë˜ìŠ¤ ê¸°ë°˜
        darkMode: 'class',
        theme: {
            extend: {
                // ì»¤ìŠ¤í…€ ìƒ‰ìƒ íŒ”ë ˆíŠ¸
                colors: {
                    primary: {
                        50: '#eff6ff',
                        100: '#dbeafe',
                        // ... 500ì´ ë©”ì¸ ìƒ‰ìƒ
                        500: '#3b82f6',
                        // ...
                        900: '#1e3a8a',
                    }
                }
            }
        }
    }
</script>
```

### 10.6.2 ë‹¤í¬ëª¨ë“œ í´ë˜ìŠ¤

```html
<!-- ê¸°ë³¸ ë°°ê²½ + ë‹¤í¬ëª¨ë“œ ë°°ê²½ -->
<body class="bg-gray-50 dark:bg-gray-900
             text-gray-900 dark:text-gray-100">
```

### 10.6.3 ë°˜ì‘í˜• ë””ìì¸

```html
<!-- ëª¨ë°”ì¼ ìš°ì„  ë°˜ì‘í˜• -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <!-- ëª¨ë°”ì¼: 1ì—´, íƒœë¸”ë¦¿: 2ì—´, ë°ìŠ¤í¬í†±: 3ì—´ -->
</div>
```

---

## 10.7 í…œí”Œë¦¿ ìƒì†

### 10.7.1 í˜ì´ì§€ í…œí”Œë¦¿ ì˜ˆì‹œ

```html
<!-- templates/pages/dashboard.html -->
{% extends "base.html" %}

{% block title %}ëŒ€ì‹œë³´ë“œ{% endblock %}

{% block content %}
<div class="space-y-6">
    <h1 class="text-3xl font-bold">ëŒ€ì‹œë³´ë“œ</h1>

    <!-- í†µê³„ ì¹´ë“œ -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
            <h3 class="text-lg font-medium">ì „ì²´ ì•„ì´í…œ</h3>
            <p class="text-3xl font-bold">{{ stats.total_items }}</p>
        </div>
        <!-- ... -->
    </div>

    <!-- ìµœê·¼ ì•„ì´í…œ -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h2 class="text-xl font-semibold mb-4">ìµœê·¼ ì•„ì´í…œ</h2>
        {% for item in recent_items %}
            <div class="py-2 border-b">
                <span>{{ item.title }}</span>
                <span class="text-gray-500">{{ item.created_at | datetime }}</span>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
```

### 10.7.2 ì»´í¬ë„ŒíŠ¸ include

```html
<!-- ì»´í¬ë„ŒíŠ¸ ì‚½ì… -->
{% include "components/navbar.html" %}

<!-- ì»¨í…ìŠ¤íŠ¸ê°€ ê·¸ëŒ€ë¡œ ì „ë‹¬ë¨ -->
<!-- navbar.htmlì—ì„œ current_user ì‚¬ìš© ê°€ëŠ¥ -->
```

---

## 10.8 ì¡°ê±´ë¶€ ë Œë”ë§

### 10.8.1 ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸

```html
{% if current_user %}
    <!-- ë¡œê·¸ì¸ëœ ì‚¬ìš©ì -->
    <span>{{ current_user.username }}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!</span>
    <a href="/logout">ë¡œê·¸ì•„ì›ƒ</a>
{% else %}
    <!-- ë¹„ë¡œê·¸ì¸ -->
    <a href="/login">ë¡œê·¸ì¸</a>
    <a href="/register">íšŒì›ê°€ì…</a>
{% endif %}
```

### 10.8.2 ê¶Œí•œ í™•ì¸

```html
{% if current_user and current_user.is_superuser %}
    <a href="/admin">ê´€ë¦¬ì í˜ì´ì§€</a>
{% endif %}
```

### 10.8.3 ë¹ˆ ë°ì´í„° ì²˜ë¦¬

```html
{% if items %}
    {% for item in items %}
        <div>{{ item.title }}</div>
    {% endfor %}
{% else %}
    <p class="text-gray-500">ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}
```

---

## 10.9 ë°˜ë³µ ë Œë”ë§

### 10.9.1 ê¸°ë³¸ ë°˜ë³µ

```html
{% for item in items %}
    <div class="border-b py-2">
        <span>{{ loop.index }}. {{ item.title }}</span>
    </div>
{% endfor %}
```

### 10.9.2 loop ë³€ìˆ˜

| ë³€ìˆ˜ | ì„¤ëª… |
|------|------|
| `loop.index` | 1ë¶€í„° ì‹œì‘í•˜ëŠ” ì¸ë±ìŠ¤ |
| `loop.index0` | 0ë¶€í„° ì‹œì‘í•˜ëŠ” ì¸ë±ìŠ¤ |
| `loop.first` | ì²« ë²ˆì§¸ ë°˜ë³µì¸ì§€ |
| `loop.last` | ë§ˆì§€ë§‰ ë°˜ë³µì¸ì§€ |
| `loop.length` | ì „ì²´ í•­ëª© ìˆ˜ |

```html
{% for item in items %}
    <div class="{% if loop.first %}border-t{% endif %} border-b">
        {{ item.title }}
    </div>
{% endfor %}
```

---

## 10.10 ë Œë”ë§ íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ë¸Œë¼ìš°ì € ìš”ì²­                                   â”‚
â”‚                      GET /dashboard                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ë¼ìš°í„° í•¨ìˆ˜                                     â”‚
â”‚  @router.get("/dashboard")                                          â”‚
â”‚  async def dashboard(request, current_user, item_service):          â”‚
â”‚      items = await item_service.get_all(...)                        â”‚
â”‚      return templates.TemplateResponse(                             â”‚
â”‚          request=request,                                           â”‚
â”‚          name="pages/dashboard.html",                               â”‚
â”‚          context={"items": items, "current_user": current_user}     â”‚
â”‚      )                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Jinja2 ë Œë”ë§                                   â”‚
â”‚                                                                      â”‚
â”‚  1. base.html ë¡œë“œ                                                  â”‚
â”‚  2. pages/dashboard.htmlì˜ block content ì‚½ì…                       â”‚
â”‚  3. {% include "components/navbar.html" %} ì‚½ì…                     â”‚
â”‚  4. {{ item.title }} ë“± ë³€ìˆ˜ ì¹˜í™˜                                   â”‚
â”‚  5. {% for %}, {% if %} ë“± ë¡œì§ ì‹¤í–‰                               â”‚
â”‚  6. ì»¤ìŠ¤í…€ í•„í„° (datetime, truncate ë“±) ì ìš©                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      HTML ì‘ë‹µ                                       â”‚
â”‚  <!DOCTYPE html>                                                     â”‚
â”‚  <html>                                                              â”‚
â”‚    <head>...</head>                                                  â”‚
â”‚    <body>                                                            â”‚
â”‚      <nav>...</nav>                                                  â”‚
â”‚      <main>ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸ </main>                                    â”‚
â”‚      <footer>...</footer>                                            â”‚
â”‚    </body>                                                           â”‚
â”‚  </html>                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10.11 íŒŒì…œ í…œí”Œë¦¿ vs í˜ì´ì§€ í…œí”Œë¦¿

### ë¹„êµ

| êµ¬ë¶„ | í˜ì´ì§€ í…œí”Œë¦¿ | íŒŒì…œ í…œí”Œë¦¿ |
|------|--------------|-------------|
| ìœ„ì¹˜ | `templates/pages/` | `templates/partials/` |
| ìƒì† | `{% extends "base.html" %}` | ìƒì† ì—†ìŒ |
| ë‚´ìš© | ì™„ì „í•œ HTML ë¬¸ì„œ | HTML ì¡°ê° |
| ìš©ë„ | ë¸Œë¼ìš°ì € ì§ì ‘ ì ‘ê·¼ | HTMX AJAX ì‘ë‹µ |
| ì‘ë‹µ | ì „ì²´ í˜ì´ì§€ | ë¶€ë¶„ ì—…ë°ì´íŠ¸ |

### íŒŒì…œ í…œí”Œë¦¿ ì˜ˆì‹œ

```html
<!-- templates/partials/items/item.html -->
<!-- base.html ìƒì† ì—†ìŒ! HTML ì¡°ê°ë§Œ -->
<div id="item-{{ item.id }}" class="border rounded p-4">
    <h3 class="font-bold">{{ item.title }}</h3>
    <p class="text-gray-600">{{ item.description | truncate(100) }}</p>
    <div class="mt-2 flex gap-2">
        <button hx-get="/partials/items/{{ item.id }}/edit"
                hx-target="#modal-content"
                hx-trigger="click"
                @click="$dispatch('openModal')">
            ìˆ˜ì •
        </button>
        <button hx-delete="/partials/items/{{ item.id }}"
                hx-target="#item-{{ item.id }}"
                hx-swap="outerHTML"
                hx-confirm="ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?">
            ì‚­ì œ
        </button>
    </div>
</div>
```

